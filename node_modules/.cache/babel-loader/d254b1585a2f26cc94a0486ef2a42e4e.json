{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/felipeferreira/Documents/00 - coding/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/felipeferreira/Documents/00 - coding/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/felipeferreira/Documents/00 - coding/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/felipeferreira/Documents/00 - coding/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import API from\"../utils/API\";import Container from\"../components/Container\";import SearchResults from\"../components/SearchResults\";import SearchForm from\"../components/SearchForm\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={search:\"\",employee:[],results:[]};_this.handleInputChange=function(event){var value=event.target.value;var storedEmployees=JSON.parse(localStorage.getItem(\"Employees\"));var filteredEmployees=storedEmployees.filter(function(letter){return letter.name.first.includes(value);});_this.setState({results:filteredEmployees});};_this.sortEmployees=function(){var storedEmployees=JSON.parse(localStorage.getItem(\"Employees\"));var sorted=storedEmployees.sort(function(a,b){if(a.name.first.toLowerCase()<b.name.first.toLowerCase())return-1;if(a.name.first.toLowerCase()>b.name.first.toLowerCase())return 1;return 0;});_this.setState({results:sorted});};return _this;}_createClass(Search,[{key:\"componentDidMount\",//checking if the employees was retrieved from the api, if not, call the api and store in local storage\nvalue:function componentDidMount(){var _this2=this;var storedEmployees=JSON.parse(localStorage.getItem(\"Employees\"));if(storedEmployees!=null){this.setState({results:storedEmployees});}else{API.getEmployees().then(function(res){_this2.setState({results:res.data.results});localStorage.setItem(\"Employees\",JSON.stringify(res.data.results));}).catch(function(err){return console.log(err);});}}//filter employees\n},{key:\"render\",//Render on the screen\nvalue:function render(){var _this3=this;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Container,{style:{minHeight:\"80%\"},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Employee Directory!\"}),/*#__PURE__*/_jsx(SearchForm,{handleInputChange:this.handleInputChange,employee:this.state.employee}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-dark\",onClick:function onClick(event){event.preventDefault();_this3.sortEmployees();},children:\"Order by first name\"}),/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsx(SearchResults,{results:this.state.results})})]})});}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["/Users/felipeferreira/Documents/00 - coding/Employee-Directory/src/pages/Employees.js"],"names":["React","Component","API","Container","SearchResults","SearchForm","Search","state","search","employee","results","handleInputChange","event","value","target","storedEmployees","JSON","parse","localStorage","getItem","filteredEmployees","filter","letter","name","first","includes","setState","sortEmployees","sorted","sort","a","b","toLowerCase","getEmployees","then","res","data","setItem","stringify","catch","err","console","log","minHeight","preventDefault"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../utils/API\";\nimport Container from \"../components/Container\";\nimport SearchResults from \"../components/SearchResults\";\nimport SearchForm from \"../components/SearchForm\";\n\nclass Search extends Component {\n  state = {\n    search: \"\",\n    employee: [],\n    results: [],\n  };\n//checking if the employees was retrieved from the api, if not, call the api and store in local storage\n  componentDidMount() {\n    let storedEmployees = JSON.parse(localStorage.getItem(\"Employees\"));\n    if (storedEmployees != null) {\n        this.setState({ results: storedEmployees })\n    }\n    else{\n        API.getEmployees()\n        .then(res => {\n        this.setState({ results: res.data.results })\n        localStorage.setItem(\"Employees\", JSON.stringify(res.data.results))\n        })\n        .catch(err => console.log(err));}\n  }\n\n  //filter employees\n  handleInputChange = event => {\n    const value = event.target.value;\n    let storedEmployees = JSON.parse(localStorage.getItem(\"Employees\"));\n    let filteredEmployees = storedEmployees.filter(letter => letter.name.first.includes(value))\n    this.setState({ results: filteredEmployees });\n  };\n\n  //Sort Employees\n  sortEmployees = () => {\n    let storedEmployees = JSON.parse(localStorage.getItem(\"Employees\"));\n    const sorted = storedEmployees.sort(function(a, b) {\n        if(a.name.first.toLowerCase() < b.name.first.toLowerCase()) return -1;\n        if(a.name.first.toLowerCase() > b.name.first.toLowerCase()) return 1;\n        return 0;\n       })\n    this.setState({ results: sorted });\n  }\n\n//Render on the screen\n  render() {\n    return (\n      <div>\n        <Container style={{ minHeight: \"80%\" }}>\n          <h1 className=\"text-center\">Employee Directory!</h1>\n          <SearchForm\n            handleInputChange={this.handleInputChange}\n            employee={this.state.employee}\n          />\n          <button type=\"button\" class=\"btn btn-dark\" onClick={event => {event.preventDefault(); this.sortEmployees();}}>Order by first name</button>\n          <table>\n            <SearchResults results={this.state.results} />\n            </table>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}